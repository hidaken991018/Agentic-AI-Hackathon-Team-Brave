# Git運用ルール



## 1. 基本方針

* **GitHub Flow** をベースとする。
* すべての変更（コード、ドキュメント、AI設定、cloud環境設定）は、必ずissueと紐づけてブランチを切り Pull Request (PR) を通す。
* **「マージ ＝ 本番デプロイ可能」** な状態を常に維持する。
* マージ後はブランチ削除
* デプロイはタグ付与のタイミングとする





## 2. ブランチ命名規則

作業内容が一目でわかるよう、接頭辞（プレフィックス）を使用する。

| 接頭辞         | 用途                                                           | 例                           |
| -------------- | -------------------------------------------------------------- | ---------------------------- |
| **`feature/`** | アプリの機能に影響する修正(機能開発、AIプロンプト調整、DB変更) | `feature/12-ai-chat-logic`   |
| **`fix/`**     | バグ修正                                                       | `fix/34-db-connection-error` |
| **`docs/`**    | 機能に影響ない修正(README、仕様書、APIドキュメント更新)        | `docs/5-setup-guide`         |

* **ルール:** `接頭辞/Issue番号-簡潔な内容`
* **理由:** Issue番号を入れることで、タスクとの紐付けを明確にする



## 3. コミットメッセージのルール


### フォーマット

`type: #Issue番号 内容`

### プレフィックス(type)

* **`feature:`** 新機能、機能変更、AIプロンプト更新
* **`fix:`** バグ修正
* **`docs:`** ドキュメントのみの修正

**例:** `feat: #12 AI応答のdurationログ出力実装`


## 4. プルリクエスト (PR) テンプレート

PR作成時に以下のテンプレートを使用。ドキュメント更新時も共通。

```markdown
## 📝 対応Issue
- Fixes # (Issue番号を記入)

## 🚀 実装内容
- (例: ログの共通関数を追加)


## 🧪 動作確認
- [ ] サーバサイドで関数実行時にログが出力されること

## 📸 キャプチャ
- (UI変更時のみ)

## ➕ 備考
- 

```



## 5. 開発から完了までのワークフロー

1. **Issue作成・アサイン**:
    * 作業前に必ず GitHub Issue を作成し、担当者を割り当てる。


2. **ブランチ作成**:
    * `main` から最新の状態を取得し、新しいブランチを切る。


3. **実装・PR作成**:
    * 修正を行い、PRを作成する


4. **レビュー**:
    * **1名以上**の Approve（承認）を得る。


5. **マージ・issueのクローズ**:
    * `main` にマージする。
  
    * ※補足：PR本文に `Closes #Issue番号` と記載すると、マージと同時にIssueを自動で閉じることができます。マージ＆デプロイ後の動作確認が不要な場合は自動クローズを使う



